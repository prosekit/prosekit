---
import { Icon } from '@astrojs/starlight/components'
import config from 'virtual:starlight/user-config'

type Platform = keyof NonNullable<typeof config.social>
type SocialConfig = NonNullable<NonNullable<typeof config.social>[Platform]>
const links = Object.entries(config.social || {}) as [Platform, SocialConfig][]
---

{
  links.length > 0 && (
    <>
      {
        links.map(([platform, { label, url }]) => (
          <a href={url} rel="me" class="flex p-2 transition hover:bg-gray-400/30 rounded-md size-8 color-[var(--sl-color-text)]">
            <span class="sr-only">{label}</span>
            <Icon name={platform} size="1rem" color="currentColor" />
          </a>
        ))
      }
    </>
  )
}
