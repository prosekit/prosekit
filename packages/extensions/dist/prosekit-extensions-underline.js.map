{"version":3,"file":"prosekit-extensions-underline.js","names":[],"sources":["../src/underline/index.ts"],"sourcesContent":["import {\n  defineCommands,\n  defineKeymap,\n  defineMarkSpec,\n  toggleMark,\n  union,\n  type Extension,\n  type PlainExtension,\n  type Union,\n} from '@prosekit/core'\nimport type { Attrs } from '@prosekit/pm/model'\n\n/**\n * @internal\n */\nexport type UnderlineSpecExtension = Extension<{\n  Marks: {\n    underline: Attrs\n  }\n}>\n\n/**\n * @internal\n */\nexport function defineUnderlineSpec(): UnderlineSpecExtension {\n  return defineMarkSpec({\n    name: 'underline',\n    parseDOM: [\n      { tag: 'u' },\n      { tag: 'underline' },\n      { style: 'text-decoration=underline' },\n      { style: 'text-decoration-line=underline' },\n    ],\n    toDOM() {\n      return ['u', 0]\n    },\n  })\n}\n\n/**\n * @internal\n */\nexport type UnderlineCommandsExtension = Extension<{\n  Commands: {\n    toggleUnderline: []\n  }\n}>\n\n/**\n * @internal\n */\nexport function defineUnderlineCommands(): UnderlineCommandsExtension {\n  return defineCommands({\n    toggleUnderline: () => toggleMark({ type: 'underline' }),\n  })\n}\n\n/**\n * @internal\n */\nexport function defineUnderlineKeymap(): PlainExtension {\n  return defineKeymap({\n    'Mod-u': toggleMark({ type: 'underline' }),\n  })\n}\n\n/**\n * @internal\n */\nexport type UnderlineExtension = Union<\n  [UnderlineSpecExtension, UnderlineCommandsExtension]\n>\n\n/**\n * @public\n */\nexport function defineUnderline(): UnderlineExtension {\n  return union(\n    defineUnderlineSpec(),\n    defineUnderlineCommands(),\n    defineUnderlineKeymap(),\n  )\n}\n"],"mappings":";;;;;;AAwBA,SAAgB,sBAA8C;AAC5D,QAAO,eAAe;EACpB,MAAM;EACN,UAAU;GACR,EAAE,KAAK,KAAK;GACZ,EAAE,KAAK,aAAa;GACpB,EAAE,OAAO,6BAA6B;GACtC,EAAE,OAAO,kCAAkC;GAC5C;EACD,QAAQ;AACN,UAAO,CAAC,KAAK,EAAE;;EAElB,CAAC;;;;;AAeJ,SAAgB,0BAAsD;AACpE,QAAO,eAAe,EACpB,uBAAuB,WAAW,EAAE,MAAM,aAAa,CAAC,EACzD,CAAC;;;;;AAMJ,SAAgB,wBAAwC;AACtD,QAAO,aAAa,EAClB,SAAS,WAAW,EAAE,MAAM,aAAa,CAAC,EAC3C,CAAC;;;;;AAaJ,SAAgB,kBAAsC;AACpD,QAAO,MACL,qBAAqB,EACrB,yBAAyB,EACzB,uBAAuB,CACxB"}